<ng-container
  *ngIf="{
    trip: trip$ | async,
    isLoading: isLoading$ | async,
    imageUrls: imageUrls$ | async,
    destinationNames: destinationNames$ | async
  } as data"
>
  <div class="mt-2 flex w-full max-w-4xl flex-col items-start justify-start">
    <div class="mt-4 flex w-full flex-col justify-between gap-1 p-2 px-1">
      <div
        class="flex h-10 w-64 items-center rounded-md"
        [class.loading]="data.isLoading === true"
      >
        <h1 class="text-4xl font-bold leading-none">
          {{ data.trip!.title }}
        </h1>
      </div>
      <div class="flex h-4 w-64 items-center rounded-md" [class.loading]="data.isLoading">
        <p class="text-xl leading-none text-text-secondary">
          {{ data.trip!.city.city_name }},
          {{ data.trip!.city.state_abbreviation }}
        </p>
      </div>
      <div class="mt-2 flex h-4 w-48 items-center justify-between">
        <p class="mr-2 leading-none">Duration</p>
        <app-rating [currentRating]="4" [maxRating]="5"></app-rating>
      </div>
      <div class="flex h-4 w-48 items-center justify-between">
        <p class="mr-2 leading-none">Cost</p>
        <app-rating [currentRating]="2" [maxRating]="5"></app-rating>
      </div>
    </div>
    <div class="flex h-96 w-full overflow-hidden rounded-2xl shadow-inner shadow-md">
      <!-- <app-image-gallery [imageUrls]="data.imageUrls" /> -->
      <app-image-carousel></app-image-carousel>
    </div>
    <div
      class="mt-8 flex min-h-48 w-full flex-col rounded-2xl bg-bg-secondary p-2"
      [class.loading]="data.isLoading"
    >
      <div class="flex h-16 w-full items-center border-b border-border pb-1">
        <h2 class="text-2xl font-semibold leading-none">About</h2>
      </div>
      <div class="mt-2 flex min-h-3 min-w-40" [class.loading]="data.isLoading">
        <p class="text-md">
          {{ data.trip!.description }}
        </p>
      </div>
    </div>
    <h2 class="mt-8 text-2xl font-semibold">Destinations</h2>
    <ul class="w-full">
      <li
        class="mt-4 flex h-16 w-full items-center justify-start overflow-hidden rounded-md bg-bg-secondary shadow-md"
        *ngFor="let destination of data.trip!.destinations; let i = index"
        [class.loading]="data.isLoading"
      >
        <div class="h-full w-24">
          <app-image-loadable [imageUrl]="destination.imageUrl"></app-image-loadable>
        </div>
        <div class="flex h-full w-full items-center justify-start overflow-hidden pl-2">
          <p class="text-base font-semibold">{{ i + 1 }}. {{ destination.name }}</p>
        </div>
      </li>
    </ul>
    <div
      class="my-8 w-full flex-col overflow-hidden bg-bg-secondary shadow-md xl:rounded-lg"
    >
      <div class="h-80 w-full">
        <!-- <app-image-loadable
          [imageUrl]="
            'assets/images/placeholders/google-maps-w-buttons-placeholder.png'
          "
        ></app-image-loadable> -->
        <!-- <app-google-map
          [markers]="markers$ | async"
          [center]="center$ | async"
        ></app-google-map> -->
      </div>
      <div class="px-4 py-8">
        <a class=""> Open in Google Maps </a>
      </div>
    </div>
  </div>
</ng-container>
